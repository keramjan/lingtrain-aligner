from lingtrain_aligner.splitter import split_by_sentences
import arabic_reshaper
from bidi.algorithm import get_display

def format_rtl(text):
    """Format Right-to-Left text for proper console display"""
    reshaped_text = arabic_reshaper.reshape(text)
    return get_display(reshaped_text)

# Test text with various Uyghur punctuation marks and quoted text
test_text = [
    "مۇقەددىمەGoogle دا مەن ئىنتايىن تەلەيلىكلاررى يەيج ئىنتايىن كۈچلۈك، 1999-يىلى مەن ئۇنىڭ بىلەن سېرگېي شېرىكلىشىپ قۇرغـان شـىركەتكەكىرگەن ۋاقىتتىلا شۇنداق ئىدى.مەيلى قاچان بولسۇن، مەن ئۆزۈمنى لاررى بىلەن بىـر ئىشخانىدا بايقىسام، بىـر خىـل تېخىمۇ جـانلارچەتىرىشىپ ئىشلەيدىغان تەخىرسىزلىك تۇيغۇسى پەيدا بولىدۇ. ئۇنىڭ بىلەن مۇھىم ئىشلارنى ياراڭلىشىۋاتمىغانلابولسام، خۇددى ئۇنىڭ ھەر بىر سېكۇنت ۋاقتىنى ئىسراپ قىلىۋاتقاندەك تۇيۇلىدۇ.2002-يىلىنىڭ بىـر كـۈنى، لاررىنىڭ ئىشخانىسىدا ئىككىمىـزلا قالـدۇق، بىـز بەزى لايىـھەلەر ۋە باشـقامەسىلىلەر ھەققىـدە ئـۇزۇن تالاشـتۇق. ئىلگىـرى مەن ئۇنىڭ بىـلەن تالىشـىپ باققـان، ئۇتتۇرۇپمـۇ باققـان. مەنتالاش-تارتىشتىن نـبمە ئۆگىنىۋالغـانلىقىم ھەققىدە ئـويلىنىمەن، ئۇنىـڭ ئۈسـتىگە كەسـكىن تـالاش-تارتىشـتىنكېيىن ئۇنىڭ بىلەن قـول ئېلىشـىپ ئەيلىشـىپ قـالىمەن. لاررى ئىختىيـارىي ھالـدا كـۈلرەڭ كـيىنىـدۇ، يۈتـۈندىققىتىنى كومپيۇتېر ئېكرانىغا يىغىدۇ. تېخىمۇ ئېنىق قىلىپ ئېيتقانىدا، يـانمۇ-يـان قويۇلغـان ئالاھىـدە چـوڭئېكرانغـا تىكىلىپ تۇرىـدۇ، ئۈسـتىدە پىروگـراممـا كـودى ۋە تـور بەت زىيـارەت كـۆزنىكى بـار. لاررى بىـلەن بىـرئىشخانىدا تۇرىدىغان سېرگېي ئەينى چاغدا يوق بولۇپ، قالايمىقان تاشلاپ قويۇلغـان چـاقلىق كـانكى ئـايىغى،پۈرلىشىپ كەتكەن خوككېي توپ كىيىمى ۋە قايسى بىر ياپونىيە ناخشىچىسىنىڭ ھەيكىلى خـۇددى ئۇنىىڭ بـوشقالغان ئورۇندۇقىغا ئۈنسىز قاراۋاتقاندەك تۇيۇلاتتى.مەن گەپ باشلاپ: «لاررى، مەن سېرگېي بىلەن سېنىڭ شـىركىتىمىزگە بېكىتكەن تەرەققىيـات نىشـانىنىڭھەممىسىنى ئىزچىل قوللاپ كەتمەيمەن. ئەمما، مەن ئىزچىل بۇ مەسىلىنى ئويلىنىۋاتىمەن ئۇنىڭ ئۈستىگە سـاڭاشۇنى دېسەم، ئىلگىرىكى كەچمىشلىرىمنى ئەسلىگەندە، سىنىڭ تـوغرا تەرەپلىرىڭنى كـۆيرەك دەپ قـارايمەن.مەن نۇرغــۇن نەرســىلەرنى ئۆگىنىۋاتقانــدەك ھــېس قىلىــمەن، بــۇ جەريانــدىكى ســەۋر-تاقىتىڭــدىن ئىنتــايـىنمىننەتدارمەن. »بۇ خېلى يامان ئەمەس تەخسىكەشلىك دەپ ئىچىمدە كۈلدۈم. مەن ئىزچىل ئۆزەمنى كەمتەر ئىيـادىلەپ،لاررىغـا يۇرســەت يارىتىــپ، ئۇنىـڭ مېنىـڭ Google شــىركىتىنىڭ باشـقۇرۇش قوشـۇنىدىكى بىــر ئەزا بولـۇشسۈپىتىم بىلەن ئىگە بولغان ئەمەلىي كۈچ ۋە مەۋجۇت بولغان ئاجىزلىقلىرىمنى تەھلىل قىلىپ، مېنى ئېغىزاكىئىلھاملاندۇرۇپ، شۇنداقلا قىممىتىمنى جەزملەتـتىم. بۈگـۈنكى كۈنـدە، ئەگەر مېنىـڭ ئاگـاھلاندۇرۇشـۇم ئـاقىلانەتەكلىپ ئىكەنلىكى ئىسياتلانسا، ئۇ ئەينى ۋاقىتتىكى ئەھۋالنى تەيسىلىي چۈشەندۈرىدۇ ھەمىدە مەن ئوتتۇرىغـاقويغـان تــوغرا چۈشــەنچىنى تەبرىكلەيــدۇ. مەن ئەرلەر ئارىســىدىكى قۇچاقلىشـىش ئــارقىلىق ئىيادىلەيــدىغانتۇيغۇنى تەسەۋۋۇر قىلىمەن، ئاندىن مىكرو دولقۇنلۇق ئوچاقنى ئېچىپ، ئەمـدىلا تەييـار بولغـان كـايچىنو سـۈتقەھۋەســىدىن ھــۇزۇرلىنىمەن. بــۇ چــوڭ شــىركەتلەردىكى «يۇقىرىغــا قارىتــا باشــقۇرۇش» تــا قوللىنىــدىغانئادەتلەنگەن يول."
]

# Test the sentence splitter
sentences = split_by_sentences(test_text, "ug")

print("Split sentences:")
for i, sentence in enumerate(sentences, 1):
    # Format the sentence for RTL display
    formatted_sentence = format_rtl(sentence)
    print(f"{i}. {formatted_sentence}")
